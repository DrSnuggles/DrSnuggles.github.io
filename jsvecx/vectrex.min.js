function fptr(s){this.value=s}function Utils(){this.errorCount=1,this.logCount=500,this.showError=function(s){this.errorCount>0&&(console.log(s),this.errorCount--)},this.initArray=function(s,t){for(var e=0;e<s.length;e++)s[e]=t}}function e6809(){this.vecx=null,this.FLAG_E=128,this.FLAG_F=64,this.FLAG_H=32,this.FLAG_I=16,this.FLAG_N=8,this.FLAG_Z=4,this.FLAG_V=2,this.FLAG_C=1,this.IRQ_NORMAL=0,this.IRQ_SYNC=1,this.IRQ_CWAI=2,this.reg_x=new fptr(0),this.reg_y=new fptr(0),this.reg_u=new fptr(0),this.reg_s=new fptr(0),this.reg_pc=0,this.reg_a=0,this.reg_b=0,this.reg_dp=0,this.reg_cc=0,this.irq_status=0,this.rptr_xyus=[this.reg_x,this.reg_y,this.reg_u,this.reg_s],this.test_c=function(s,t,e,i){var h=(s|t)&~e;return h|=s&t,h=h>>7&1,h^=i},this.test_z8=function(s){var t=~s;return t&=t>>4&15,t&=t>>2&3,t&=t>>1&1},this.test_z16=function(s){var t=~s;return t&=t>>8&255,t&=t>>4&15,t&=t>>2&3,t&=t>>1&1},this.test_v=function(s,t,e){var i=~(s^t);return i&=s^e,i=i>>7&1},this.set_reg_d=function(s){this.reg_a=s>>8,this.reg_b=s},this.read16=function(s){return this.vecx.read8(s)<<8|this.vecx.read8(s+1)},this.write16=function(s,t){this.vecx.write8(s,t>>8),this.vecx.write8(s+1,t)},this.push8=function(s,t){s.value--,this.vecx.write8(s.value,t)},this.push16=function(s,t){s.value--,this.vecx.write8(s.value,t),s.value--,this.vecx.write8(s.value,t>>8)},this.pull16=function(s){return this.vecx.read8(s.value++)<<8|this.vecx.read8(s.value++)},this.pc_read16=function(){var s=this.read16(this.reg_pc);return this.reg_pc+=2,s},this.sign_extend=function(s){return 1+~(128&s)|255&s},this.ea_indexed=function(s){var t=0,e=0,i=0;switch(e=this.vecx.read8(this.reg_pc++),i=e>>5&3,e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:t=this.rptr_xyus[i].value+(15&e),s.value++;break;case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:t=this.rptr_xyus[i].value+(15&e)-16,s.value++;break;case 128:case 129:case 160:case 161:case 192:case 193:case 224:case 225:t=this.rptr_xyus[i].value,this.rptr_xyus[i].value+=1+(1&e),s.value+=2+(1&e);break;case 144:case 145:case 176:case 177:case 208:case 209:case 240:case 241:t=this.read16(this.rptr_xyus[i].value),this.rptr_xyus[i].value+=1+(1&e),s.value+=5+(1&e);break;case 130:case 131:case 162:case 163:case 194:case 195:case 226:case 227:this.rptr_xyus[i].value-=1+(1&e),t=this.rptr_xyus[i].value,s.value+=2+(1&e);break;case 146:case 147:case 178:case 179:case 210:case 211:case 242:case 243:this.rptr_xyus[i].value-=1+(1&e),t=this.read16(this.rptr_xyus[i].value),s.value+=5+(1&e);break;case 132:case 164:case 196:case 228:t=this.rptr_xyus[i].value;break;case 148:case 180:case 212:case 244:t=this.read16(this.rptr_xyus[i].value),s.value+=3;break;case 133:case 165:case 197:case 229:t=this.rptr_xyus[i].value+this.sign_extend(this.reg_b),s.value+=1;break;case 149:case 181:case 213:case 245:t=this.read16(this.rptr_xyus[i].value+this.sign_extend(this.reg_b)),s.value+=4;break;case 134:case 166:case 198:case 230:t=this.rptr_xyus[i].value+this.sign_extend(this.reg_a),s.value+=1;break;case 150:case 182:case 214:case 246:t=this.read16(this.rptr_xyus[i].value+this.sign_extend(this.reg_a)),s.value+=4;break;case 136:case 168:case 200:case 232:t=this.rptr_xyus[i].value+this.sign_extend(this.vecx.read8(this.reg_pc++)),s.value+=1;break;case 152:case 184:case 216:case 248:t=this.read16(this.rptr_xyus[i].value+this.sign_extend(this.vecx.read8(this.reg_pc++))),s.value+=4;break;case 137:case 169:case 201:case 233:t=this.rptr_xyus[i].value+this.pc_read16(),s.value+=4;break;case 153:case 185:case 217:case 249:t=this.read16(this.rptr_xyus[i].value+this.pc_read16()),s.value+=7;break;case 139:case 171:case 203:case 235:t=this.rptr_xyus[i].value+(this.reg_a<<8|255&this.reg_b),s.value+=4;break;case 155:case 187:case 219:case 251:t=this.read16(this.rptr_xyus[i].value+(this.reg_a<<8|255&this.reg_b)),s.value+=7;break;case 140:case 172:case 204:case 236:i=this.sign_extend(this.vecx.read8(this.reg_pc++)),t=this.reg_pc+i,s.value+=1;break;case 156:case 188:case 220:case 252:i=this.sign_extend(this.vecx.read8(this.reg_pc++)),t=this.read16(this.reg_pc+i),s.value+=4;break;case 141:case 173:case 205:case 237:i=this.pc_read16(),t=this.reg_pc+i,s.value+=5;break;case 157:case 189:case 221:case 253:i=this.pc_read16(),t=this.read16(this.reg_pc+i),s.value+=8;break;case 159:t=this.read16(this.pc_read16()),s.value+=5;break;default:console.log("undefined post-byte")}return t},this.inst_neg=function(s){var t=65535&~s,e=0+t+1;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(0,t<<4,e<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(e>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(e)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(0^t)&(0^e))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(0,t,e,1)*this.FLAG_C,e},this.inst_com=function(s){var t=65535&~s;return this.reg_cc=this.reg_cc&~this.FLAG_N|(t>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(t)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|0*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|1*this.FLAG_C,t},this.inst_lsr=function(s){var t=s>>1&127;return this.reg_cc=this.reg_cc&~this.FLAG_N|0*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(t)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_C|s&1*this.FLAG_C,t},this.inst_ror=function(s){var t=this.reg_cc/this.FLAG_C>>0&1,e=s>>1&127|t<<7;return this.reg_cc=this.reg_cc&~this.FLAG_N|(e>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(e)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_C|s&1*this.FLAG_C,e},this.inst_asr=function(s){var t=s>>1&127|128&s;return this.reg_cc=this.reg_cc&~this.FLAG_N|(t>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(t)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_C|s&1*this.FLAG_C,t},this.inst_asl=function(s){var t=s,e=s,i=t+e;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(t<<4,e<<4,i<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(i>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(i)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(t^e)&(t^i))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(t,e,i,0)*this.FLAG_C,i},this.inst_rol=function(s){var t=s,e=s,i=this.reg_cc/this.FLAG_C>>0&1,h=t+e+i;return this.reg_cc=this.reg_cc&~this.FLAG_N|(h>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(h)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(t^e)&(t^h))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(t,e,h,0)*this.FLAG_C,h},this.inst_dec=function(s){var t=s,e=t+255;return this.reg_cc=this.reg_cc&~this.FLAG_N|(e>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(e)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(255^t)&(t^e))>>7&1)*this.FLAG_V,e},this.inst_inc=function(s){var t=s,e=t+1;return this.reg_cc=this.reg_cc&~this.FLAG_N|(e>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(e)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(1^t)&(t^e))>>7&1)*this.FLAG_V,e},this.inst_tst8=function(s){this.reg_cc=this.reg_cc&~this.FLAG_N|(s>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(s)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|0*this.FLAG_V},this.inst_tst16=function(s){this.reg_cc=this.reg_cc&~this.FLAG_N|(s>>8>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(s)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|0*this.FLAG_V},this.inst_clr=function(){this.reg_cc=this.reg_cc&~this.FLAG_N|0*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|1*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|0*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|0*this.FLAG_C},this.inst_sub8=function(s,t){var e=s,i=65535&~t,h=e+i+1;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(e<<4,i<<4,h<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(h>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(h)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(e^i)&(e^h))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e,i,h,1)*this.FLAG_C,h},this.inst_sbc=function(s,t){var e=s,i=65535&~t,h=1-(this.reg_cc/this.FLAG_C>>0&1),a=e+i+h;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(e<<4,i<<4,a<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(a>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(a)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(e^i)&(e^a))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e,i,a,1)*this.FLAG_C,a},this.inst_and=function(s,t){var e=s&t;return this.inst_tst8(e),e},this.inst_eor=function(s,t){var e=s^t;return this.inst_tst8(e),e},this.inst_adc=function(s,t){var e=s,i=t,h=this.reg_cc/this.FLAG_C>>0&1,a=e+i+h;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(e<<4,i<<4,a<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(a>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(a)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(e^i)&(e^a))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e,i,a,0)*this.FLAG_C,a},this.inst_or=function(s,t){var e=s|t;return this.inst_tst8(e),e},this.inst_add8=function(s,t){var e=s,i=t,h=e+i;return this.reg_cc=this.reg_cc&~this.FLAG_H|this.test_c(e<<4,i<<4,h<<4,0)*this.FLAG_H,this.reg_cc=this.reg_cc&~this.FLAG_N|(h>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(h)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|((~(e^i)&(e^h))>>7&1)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e,i,h,0)*this.FLAG_C,h},this.inst_add16=function(s,t){var e=s,i=t,h=e+i;return this.reg_cc=this.reg_cc&~this.FLAG_N|(h>>8>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(h)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|this.test_v(e>>8,i>>8,h>>8)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e>>8,i>>8,h>>8,0)*this.FLAG_C,h},this.inst_sub16=function(s,t){var e=s,i=65535&~t,h=e+i+1;return this.reg_cc=this.reg_cc&~this.FLAG_N|(h>>8>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(h)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|this.test_v(e>>8,i>>8,h>>8)*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(e>>8,i>>8,h>>8,1)*this.FLAG_C,h},this.inst_bra8=function(s,t,e){var i=this.vecx.read8(this.reg_pc++),h=(s^1&t)-1;this.reg_pc+=this.sign_extend(i)&h,e.value+=3},this.inst_bra16=function(s,t,e){var i=this.pc_read16(),h=(s^1&t)-1;this.reg_pc+=i&h,e.value+=5-h},this.inst_psh=function(s,t,e,i){128&s&&(this.push16(t,this.reg_pc),i.value+=2),64&s&&(this.push16(t,e),i.value+=2),32&s&&(this.push16(t,this.reg_y.value),i.value+=2),16&s&&(this.push16(t,this.reg_x.value),i.value+=2),8&s&&(this.push8(t,this.reg_dp),i.value+=1),4&s&&(this.push8(t,this.reg_b),i.value+=1),2&s&&(this.push8(t,this.reg_a),i.value+=1),1&s&&(this.push8(t,this.reg_cc),i.value+=1)},this.inst_pul=function(s,t,e,i){1&s&&(this.reg_cc=this.vecx.read8(t.value++),i.value+=1),2&s&&(this.reg_a=this.vecx.read8(t.value++),i.value+=1),4&s&&(this.reg_b=this.vecx.read8(t.value++),i.value+=1),8&s&&(this.reg_dp=this.vecx.read8(t.value++),i.value+=1),16&s&&(this.reg_x.value=this.pull16(t),i.value+=2),32&s&&(this.reg_y.value=this.pull16(t),i.value+=2),64&s&&(e.value=this.pull16(t),i.value+=2),128&s&&(this.reg_pc=this.pull16(t),i.value+=2)},this.exgtfr_read=function(s){var t=0;switch(s){case 0:t=this.reg_a<<8|255&this.reg_b;break;case 1:t=this.reg_x.value;break;case 2:t=this.reg_y.value;break;case 3:t=this.reg_u.value;break;case 4:t=this.reg_s.value;break;case 5:t=this.reg_pc;break;case 8:t=65280|this.reg_a;break;case 9:t=65280|this.reg_b;break;case 10:t=65280|this.reg_cc;break;case 11:t=65280|this.reg_dp;break;default:t=65535,utils.showError("illegal exgtfr reg"+s)}return t},this.exgtfr_write=function(s,t){switch(s){case 0:this.set_reg_d(t);break;case 1:this.reg_x.value=t;break;case 2:this.reg_y.value=t;break;case 3:this.reg_u.value=t;break;case 4:this.reg_s.value=t;break;case 5:this.reg_pc=t;break;case 8:this.reg_a=t;break;case 9:this.reg_b=t;break;case 10:this.reg_cc=t;break;case 11:this.reg_dp=t;break;default:utils.showError("illegal exgtfr reg "+s)}},this.inst_exg=function(){var s=this.vecx.read8(this.reg_pc++),t=this.exgtfr_read(15&s);this.exgtfr_write(15&s,this.exgtfr_read(s>>4)),this.exgtfr_write(s>>4,t)},this.inst_tfr=function(){var s=this.vecx.read8(this.reg_pc++);this.exgtfr_write(15&s,this.exgtfr_read(s>>4))},this.e6809_reset=function(){this.reg_x.value=0,this.reg_y.value=0,this.reg_u.value=0,this.reg_s.value=0,this.reg_a=0,this.reg_b=0,this.reg_dp=0,this.reg_cc=this.FLAG_I|this.FLAG_F,this.irq_status=this.IRQ_NORMAL,this.reg_pc=this.read16(65534)},this.cycles=new fptr(0),this.e6809_sstep=function(s,t){var e=0,i=this.cycles;i.value=0;var h=0,a=0,r=0,c=0;if(t&&(0==(this.reg_cc/this.FLAG_F>>0&1)?(this.irq_status!=this.IRQ_CWAI&&(this.reg_cc=this.reg_cc&~this.FLAG_E|0*this.FLAG_E,this.inst_psh(129,this.reg_s,this.reg_u.value,i)),this.reg_cc=this.reg_cc&~this.FLAG_I|1*this.FLAG_I,this.reg_cc=this.reg_cc&~this.FLAG_F|1*this.FLAG_F,this.reg_pc=this.read16(65526),this.irq_status=this.IRQ_NORMAL,i.value+=7):this.irq_status==this.IRQ_SYNC&&(this.irq_status=this.IRQ_NORMAL)),s&&(0==(this.reg_cc/this.FLAG_I>>0&1)?(this.irq_status!=this.IRQ_CWAI&&(this.reg_cc=this.reg_cc&~this.FLAG_E|1*this.FLAG_E,this.inst_psh(255,this.reg_s,this.reg_u.value,i)),this.reg_cc=this.reg_cc&~this.FLAG_I|1*this.FLAG_I,this.reg_pc=this.read16(65528),this.irq_status=this.IRQ_NORMAL,i.value+=7):this.irq_status==this.IRQ_SYNC&&(this.irq_status=this.IRQ_NORMAL)),this.irq_status!=this.IRQ_NORMAL)return i.value+1;switch(e=this.vecx.read8(this.reg_pc++)){case 0:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_neg(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 64:this.reg_a=this.inst_neg(this.reg_a),i.value+=2;break;case 80:this.reg_b=this.inst_neg(this.reg_b),i.value+=2;break;case 96:h=this.ea_indexed(i),c=this.inst_neg(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 112:h=this.pc_read16(),c=this.inst_neg(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 3:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_com(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 67:this.reg_a=this.inst_com(this.reg_a),i.value+=2;break;case 83:this.reg_b=this.inst_com(this.reg_b),i.value+=2;break;case 99:h=this.ea_indexed(i),c=this.inst_com(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 115:h=this.pc_read16(),c=this.inst_com(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 4:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_lsr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 68:this.reg_a=this.inst_lsr(this.reg_a),i.value+=2;break;case 84:this.reg_b=this.inst_lsr(this.reg_b),i.value+=2;break;case 100:h=this.ea_indexed(i),c=this.inst_lsr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 116:h=this.pc_read16(),c=this.inst_lsr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 6:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_ror(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 70:this.reg_a=this.inst_ror(this.reg_a),i.value+=2;break;case 86:this.reg_b=this.inst_ror(this.reg_b),i.value+=2;break;case 102:h=this.ea_indexed(i),c=this.inst_ror(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 118:h=this.pc_read16(),c=this.inst_ror(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 7:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_asr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 71:this.reg_a=this.inst_asr(this.reg_a),i.value+=2;break;case 87:this.reg_b=this.inst_asr(this.reg_b),i.value+=2;break;case 103:h=this.ea_indexed(i),c=this.inst_asr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 119:h=this.pc_read16(),c=this.inst_asr(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 8:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_asl(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 72:this.reg_a=this.inst_asl(this.reg_a),i.value+=2;break;case 88:this.reg_b=this.inst_asl(this.reg_b),i.value+=2;break;case 104:h=this.ea_indexed(i),c=this.inst_asl(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 120:h=this.pc_read16(),c=this.inst_asl(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 9:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_rol(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 73:this.reg_a=this.inst_rol(this.reg_a),i.value+=2;break;case 89:this.reg_b=this.inst_rol(this.reg_b),i.value+=2;break;case 105:h=this.ea_indexed(i),c=this.inst_rol(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 121:h=this.pc_read16(),c=this.inst_rol(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 10:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_dec(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 74:this.reg_a=this.inst_dec(this.reg_a),i.value+=2;break;case 90:this.reg_b=this.inst_dec(this.reg_b),i.value+=2;break;case 106:h=this.ea_indexed(i),c=this.inst_dec(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 122:h=this.pc_read16(),c=this.inst_dec(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 12:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),c=this.inst_inc(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 76:this.reg_a=this.inst_inc(this.reg_a),i.value+=2;break;case 92:this.reg_b=this.inst_inc(this.reg_b),i.value+=2;break;case 108:h=this.ea_indexed(i),c=this.inst_inc(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=6;break;case 124:h=this.pc_read16(),c=this.inst_inc(this.vecx.read8(h)),this.vecx.write8(h,c),i.value+=7;break;case 13:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_tst8(this.vecx.read8(h)),i.value+=6;break;case 77:this.inst_tst8(this.reg_a),i.value+=2;break;case 93:this.inst_tst8(this.reg_b),i.value+=2;break;case 109:h=this.ea_indexed(i),this.inst_tst8(this.vecx.read8(h)),i.value+=6;break;case 125:h=this.pc_read16(),this.inst_tst8(this.vecx.read8(h)),i.value+=7;break;case 14:this.reg_pc=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),i.value+=3;break;case 110:this.reg_pc=this.ea_indexed(i),i.value+=3;break;case 126:this.reg_pc=this.pc_read16(),i.value+=4;break;case 15:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_clr(),this.vecx.write8(h,0),i.value+=6;break;case 79:this.inst_clr(),this.reg_a=0,i.value+=2;break;case 95:this.inst_clr(),this.reg_b=0,i.value+=2;break;case 111:h=this.ea_indexed(i),this.inst_clr(),this.vecx.write8(h,0),i.value+=6;break;case 127:h=this.pc_read16(),this.inst_clr(),this.vecx.write8(h,0),i.value+=7;break;case 128:this.reg_a=this.inst_sub8(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 144:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 160:h=this.ea_indexed(i),this.reg_a=this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 176:h=this.pc_read16(),this.reg_a=this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 192:this.reg_b=this.inst_sub8(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 208:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 224:h=this.ea_indexed(i),this.reg_b=this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 240:h=this.pc_read16(),this.reg_b=this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 129:this.inst_sub8(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 145:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 161:h=this.ea_indexed(i),this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 177:h=this.pc_read16(),this.inst_sub8(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 193:this.inst_sub8(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 209:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 225:h=this.ea_indexed(i),this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 241:h=this.pc_read16(),this.inst_sub8(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 130:this.reg_a=this.inst_sbc(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 146:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_sbc(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 162:h=this.ea_indexed(i),this.reg_a=this.inst_sbc(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 178:h=this.pc_read16(),this.reg_a=this.inst_sbc(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 194:this.reg_b=this.inst_sbc(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 210:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_sbc(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 226:h=this.ea_indexed(i),this.reg_b=this.inst_sbc(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 242:h=this.pc_read16(),this.reg_b=this.inst_sbc(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 132:this.reg_a=this.inst_and(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 148:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 164:h=this.ea_indexed(i),this.reg_a=this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 180:h=this.pc_read16(),this.reg_a=this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 196:this.reg_b=this.inst_and(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 212:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 228:h=this.ea_indexed(i),this.reg_b=this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 244:h=this.pc_read16(),this.reg_b=this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 133:this.inst_and(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 149:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 165:h=this.ea_indexed(i),this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 181:h=this.pc_read16(),this.inst_and(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 197:this.inst_and(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 213:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 229:h=this.ea_indexed(i),this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 245:h=this.pc_read16(),this.inst_and(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 134:this.reg_a=this.vecx.read8(this.reg_pc++),this.inst_tst8(this.reg_a),i.value+=2;break;case 150:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.vecx.read8(h),this.inst_tst8(this.reg_a),i.value+=4;break;case 166:h=this.ea_indexed(i),this.reg_a=this.vecx.read8(h),this.inst_tst8(this.reg_a),i.value+=4;break;case 182:h=this.pc_read16(),this.reg_a=this.vecx.read8(h),this.inst_tst8(this.reg_a),i.value+=5;break;case 198:this.reg_b=this.vecx.read8(this.reg_pc++),this.inst_tst8(this.reg_b),i.value+=2;break;case 214:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.vecx.read8(h),this.inst_tst8(this.reg_b),i.value+=4;break;case 230:h=this.ea_indexed(i),this.reg_b=this.vecx.read8(h),this.inst_tst8(this.reg_b),i.value+=4;break;case 246:h=this.pc_read16(),this.reg_b=this.vecx.read8(h),this.inst_tst8(this.reg_b),i.value+=5;break;case 151:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.vecx.write8(h,this.reg_a),this.inst_tst8(this.reg_a),i.value+=4;break;case 167:h=this.ea_indexed(i),this.vecx.write8(h,this.reg_a),this.inst_tst8(this.reg_a),i.value+=4;break;case 183:h=this.pc_read16(),this.vecx.write8(h,this.reg_a),this.inst_tst8(this.reg_a),i.value+=5;break;case 215:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.vecx.write8(h,this.reg_b),this.inst_tst8(this.reg_b),i.value+=4;break;case 231:h=this.ea_indexed(i),this.vecx.write8(h,this.reg_b),this.inst_tst8(this.reg_b),i.value+=4;break;case 247:h=this.pc_read16(),this.vecx.write8(h,this.reg_b),this.inst_tst8(this.reg_b),i.value+=5;break;case 136:this.reg_a=this.inst_eor(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 152:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_eor(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 168:h=this.ea_indexed(i),this.reg_a=this.inst_eor(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 184:h=this.pc_read16(),this.reg_a=this.inst_eor(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 200:this.reg_b=this.inst_eor(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 216:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_eor(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 232:h=this.ea_indexed(i),this.reg_b=this.inst_eor(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 248:h=this.pc_read16(),this.reg_b=this.inst_eor(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 137:this.reg_a=this.inst_adc(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 153:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_adc(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 169:h=this.ea_indexed(i),this.reg_a=this.inst_adc(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 185:h=this.pc_read16(),this.reg_a=this.inst_adc(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 201:this.reg_b=this.inst_adc(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 217:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_adc(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 233:h=this.ea_indexed(i),this.reg_b=this.inst_adc(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 249:h=this.pc_read16(),this.reg_b=this.inst_adc(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 138:this.reg_a=this.inst_or(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 154:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_or(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 170:h=this.ea_indexed(i),this.reg_a=this.inst_or(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 186:h=this.pc_read16(),this.reg_a=this.inst_or(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 202:this.reg_b=this.inst_or(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 218:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_or(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 234:h=this.ea_indexed(i),this.reg_b=this.inst_or(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 250:h=this.pc_read16(),this.reg_b=this.inst_or(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 139:this.reg_a=this.inst_add8(this.reg_a,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 155:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_a=this.inst_add8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 171:h=this.ea_indexed(i),this.reg_a=this.inst_add8(this.reg_a,this.vecx.read8(h)),i.value+=4;break;case 187:h=this.pc_read16(),this.reg_a=this.inst_add8(this.reg_a,this.vecx.read8(h)),i.value+=5;break;case 203:this.reg_b=this.inst_add8(this.reg_b,this.vecx.read8(this.reg_pc++)),i.value+=2;break;case 219:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_b=this.inst_add8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 235:h=this.ea_indexed(i),this.reg_b=this.inst_add8(this.reg_b,this.vecx.read8(h)),i.value+=4;break;case 251:h=this.pc_read16(),this.reg_b=this.inst_add8(this.reg_b,this.vecx.read8(h)),i.value+=5;break;case 131:this.set_reg_d(this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.pc_read16())),i.value+=4;break;case 147:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.set_reg_d(this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=6;break;case 163:h=this.ea_indexed(i),this.set_reg_d(this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=6;break;case 179:h=this.pc_read16(),this.set_reg_d(this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=7;break;case 140:this.inst_sub16(this.reg_x.value,this.pc_read16()),i.value+=4;break;case 156:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub16(this.reg_x.value,this.read16(h)),i.value+=6;break;case 172:h=this.ea_indexed(i),this.inst_sub16(this.reg_x.value,this.read16(h)),i.value+=6;break;case 188:h=this.pc_read16(),this.inst_sub16(this.reg_x.value,this.read16(h)),i.value+=7;break;case 142:this.reg_x.value=this.pc_read16(),this.inst_tst16(this.reg_x.value),i.value+=3;break;case 158:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_x.value=this.read16(h),this.inst_tst16(this.reg_x.value),i.value+=5;break;case 174:h=this.ea_indexed(i),this.reg_x.value=this.read16(h),this.inst_tst16(this.reg_x.value),i.value+=5;break;case 190:h=this.pc_read16(),this.reg_x.value=this.read16(h),this.inst_tst16(this.reg_x.value),i.value+=6;break;case 206:this.reg_u.value=this.pc_read16(),this.inst_tst16(this.reg_u.value),i.value+=3;break;case 222:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_u.value=this.read16(h),this.inst_tst16(this.reg_u.value),i.value+=5;break;case 238:h=this.ea_indexed(i),this.reg_u.value=this.read16(h),this.inst_tst16(this.reg_u.value),i.value+=5;break;case 254:h=this.pc_read16(),this.reg_u.value=this.read16(h),this.inst_tst16(this.reg_u.value),i.value+=6;break;case 159:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.write16(h,this.reg_x.value),this.inst_tst16(this.reg_x.value),i.value+=5;break;case 175:h=this.ea_indexed(i),this.write16(h,this.reg_x.value),this.inst_tst16(this.reg_x.value),i.value+=5;break;case 191:h=this.pc_read16(),this.write16(h,this.reg_x.value),this.inst_tst16(this.reg_x.value),i.value+=6;break;case 223:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.write16(h,this.reg_u.value),this.inst_tst16(this.reg_u.value),i.value+=5;break;case 239:h=this.ea_indexed(i),this.write16(h,this.reg_u.value),this.inst_tst16(this.reg_u.value),i.value+=5;break;case 255:h=this.pc_read16(),this.write16(h,this.reg_u.value),this.inst_tst16(this.reg_u.value),i.value+=6;break;case 195:this.set_reg_d(this.inst_add16(this.reg_a<<8|255&this.reg_b,this.pc_read16())),i.value+=4;break;case 211:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.set_reg_d(this.inst_add16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=6;break;case 227:h=this.ea_indexed(i),this.set_reg_d(this.inst_add16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=6;break;case 243:h=this.pc_read16(),this.set_reg_d(this.inst_add16(this.reg_a<<8|255&this.reg_b,this.read16(h))),i.value+=7;break;case 204:this.set_reg_d(this.pc_read16()),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=3;break;case 220:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),
this.set_reg_d(this.read16(h)),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=5;break;case 236:h=this.ea_indexed(i),this.set_reg_d(this.read16(h)),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=5;break;case 252:h=this.pc_read16(),this.set_reg_d(this.read16(h)),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=6;break;case 221:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.write16(h,this.reg_a<<8|255&this.reg_b),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=5;break;case 237:h=this.ea_indexed(i),this.write16(h,this.reg_a<<8|255&this.reg_b),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=5;break;case 253:h=this.pc_read16(),this.write16(h,this.reg_a<<8|255&this.reg_b),this.inst_tst16(this.reg_a<<8|255&this.reg_b),i.value+=6;break;case 18:i.value+=2;break;case 61:c=(255&this.reg_a)*(255&this.reg_b),this.set_reg_d(c),this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(c)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_C|c>>7&1*this.FLAG_C,i.value+=11;break;case 32:case 33:this.inst_bra8(0,e,i);break;case 34:case 35:this.inst_bra8(this.reg_cc/this.FLAG_C>>0&1|this.reg_cc/this.FLAG_Z>>0&1,e,i);break;case 36:case 37:this.inst_bra8(this.reg_cc/this.FLAG_C>>0&1,e,i);break;case 38:case 39:this.inst_bra8(this.reg_cc/this.FLAG_Z>>0&1,e,i);break;case 40:case 41:this.inst_bra8(this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 42:case 43:this.inst_bra8(this.reg_cc/this.FLAG_N>>0&1,e,i);break;case 44:case 45:this.inst_bra8(this.reg_cc/this.FLAG_N>>0&1^this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 46:case 47:this.inst_bra8(this.reg_cc/this.FLAG_Z>>0&1|this.reg_cc/this.FLAG_N>>0&1^this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 22:c=this.pc_read16(),this.reg_pc+=c,i.value+=5;break;case 23:c=this.pc_read16(),this.push16(this.reg_s,this.reg_pc),this.reg_pc+=c,i.value+=9;break;case 141:c=this.vecx.read8(this.reg_pc++),this.push16(this.reg_s,this.reg_pc),this.reg_pc+=this.sign_extend(c),i.value+=7;break;case 157:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.push16(this.reg_s,this.reg_pc),this.reg_pc=h,i.value+=7;break;case 173:h=this.ea_indexed(i),this.push16(this.reg_s,this.reg_pc),this.reg_pc=h,i.value+=7;break;case 189:h=this.pc_read16(),this.push16(this.reg_s,this.reg_pc),this.reg_pc=h,i.value+=8;break;case 48:this.reg_x.value=this.ea_indexed(i),this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(this.reg_x.value)*this.FLAG_Z,i.value+=4;break;case 49:this.reg_y.value=this.ea_indexed(i),this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(this.reg_y.value)*this.FLAG_Z,i.value+=4;break;case 50:this.reg_s.value=this.ea_indexed(i),i.value+=4;break;case 51:this.reg_u.value=this.ea_indexed(i),i.value+=4;break;case 52:this.inst_psh(this.vecx.read8(this.reg_pc++),this.reg_s,this.reg_u.value,i),i.value+=5;break;case 53:this.inst_pul(this.vecx.read8(this.reg_pc++),this.reg_s,this.reg_u,i),i.value+=5;break;case 54:this.inst_psh(this.vecx.read8(this.reg_pc++),this.reg_u,this.reg_s.value,i),i.value+=5;break;case 55:this.inst_pul(this.vecx.read8(this.reg_pc++),this.reg_u,this.reg_s,i),i.value+=5;break;case 57:this.reg_pc=this.pull16(this.reg_s),i.value+=5;break;case 58:this.reg_x.value+=255&this.reg_b,i.value+=3;break;case 26:this.reg_cc|=this.vecx.read8(this.reg_pc++),i.value+=3;break;case 28:this.reg_cc&=this.vecx.read8(this.reg_pc++),i.value+=3;break;case 29:this.set_reg_d(this.sign_extend(this.reg_b)),this.reg_cc=this.reg_cc&~this.FLAG_N|(this.reg_a>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z16(this.reg_a<<8|255&this.reg_b)*this.FLAG_Z,i.value+=2;break;case 30:this.inst_exg(),i.value+=8;break;case 31:this.inst_tfr(),i.value+=6;break;case 59:this.reg_cc/this.FLAG_E>>0&1?this.inst_pul(255,this.reg_s,this.reg_u,i):this.inst_pul(129,this.reg_s,this.reg_u,i),i.value+=3;break;case 63:this.reg_cc=this.reg_cc&~this.FLAG_E|1*this.FLAG_E,this.inst_psh(255,this.reg_s,this.reg_u.value,i),this.reg_cc=this.reg_cc&~this.FLAG_I|1*this.FLAG_I,this.reg_cc=this.reg_cc&~this.FLAG_F|1*this.FLAG_F,this.reg_pc=this.read16(65530),i.value+=7;break;case 19:this.irq_status=this.IRQ_SYNC,i.value+=2;break;case 25:a=this.reg_a,r=0,((15&this.reg_a)>9||1==(this.reg_cc/this.FLAG_H>>0&1))&&(r|=6),(240&this.reg_a)>128&&(15&this.reg_a)>9&&(r|=96),((240&this.reg_a)>144||1==(this.reg_cc/this.FLAG_C>>0&1))&&(r|=96),this.reg_a=a+r,this.reg_cc=this.reg_cc&~this.FLAG_N|(this.reg_a>>7&1)*this.FLAG_N,this.reg_cc=this.reg_cc&~this.FLAG_Z|this.test_z8(this.reg_a)*this.FLAG_Z,this.reg_cc=this.reg_cc&~this.FLAG_V|0*this.FLAG_V,this.reg_cc=this.reg_cc&~this.FLAG_C|this.test_c(a,r,this.reg_a,0)*this.FLAG_C,i.value+=2;break;case 60:var _=this.vecx.read8(this.reg_pc++);this.reg_cc=this.reg_cc&~this.FLAG_E|1*this.FLAG_E,this.inst_psh(255,this.reg_s,this.reg_u.value,i),this.irq_status=this.IRQ_CWAI,this.reg_cc&=_,i.value+=4;break;case 16:switch(e=this.vecx.read8(this.reg_pc++)){case 32:case 33:this.inst_bra16(0,e,i);break;case 34:case 35:this.inst_bra16(this.reg_cc/this.FLAG_C>>0&1|this.reg_cc/this.FLAG_Z>>0&1,e,i);break;case 36:case 37:this.inst_bra16(this.reg_cc/this.FLAG_C>>0&1,e,i);break;case 38:case 39:this.inst_bra16(this.reg_cc/this.FLAG_Z>>0&1,e,i);break;case 40:case 41:this.inst_bra16(this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 42:case 43:this.inst_bra16(this.reg_cc/this.FLAG_N>>0&1,e,i);break;case 44:case 45:this.inst_bra16(this.reg_cc/this.FLAG_N>>0&1^this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 46:case 47:this.inst_bra16(this.reg_cc/this.FLAG_Z>>0&1|this.reg_cc/this.FLAG_N>>0&1^this.reg_cc/this.FLAG_V>>0&1,e,i);break;case 131:this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.pc_read16()),i.value+=5;break;case 147:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h)),i.value+=7;break;case 163:h=this.ea_indexed(i),this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h)),i.value+=7;break;case 179:h=this.pc_read16(),this.inst_sub16(this.reg_a<<8|255&this.reg_b,this.read16(h)),i.value+=8;break;case 140:this.inst_sub16(this.reg_y.value,this.pc_read16()),i.value+=5;break;case 156:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub16(this.reg_y.value,this.read16(h)),i.value+=7;break;case 172:h=this.ea_indexed(i),this.inst_sub16(this.reg_y.value,this.read16(h)),i.value+=7;break;case 188:h=this.pc_read16(),this.inst_sub16(this.reg_y.value,this.read16(h)),i.value+=8;break;case 142:this.reg_y.value=this.pc_read16(),this.inst_tst16(this.reg_y.value),i.value+=4;break;case 158:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_y.value=this.read16(h),this.inst_tst16(this.reg_y.value),i.value+=6;break;case 174:h=this.ea_indexed(i),this.reg_y.value=this.read16(h),this.inst_tst16(this.reg_y.value),i.value+=6;break;case 190:h=this.pc_read16(),this.reg_y.value=this.read16(h),this.inst_tst16(this.reg_y.value),i.value+=7;break;case 159:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.write16(h,this.reg_y.value),this.inst_tst16(this.reg_y.value),i.value+=6;break;case 175:h=this.ea_indexed(i),this.write16(h,this.reg_y.value),this.inst_tst16(this.reg_y.value),i.value+=6;break;case 191:h=this.pc_read16(),this.write16(h,this.reg_y.value),this.inst_tst16(this.reg_y.value),i.value+=7;break;case 206:this.reg_s.value=this.pc_read16(),this.inst_tst16(this.reg_s.value),i.value+=4;break;case 222:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.reg_s.value=this.read16(h),this.inst_tst16(this.reg_s.value),i.value+=6;break;case 238:h=this.ea_indexed(i),this.reg_s.value=this.read16(h),this.inst_tst16(this.reg_s.value),i.value+=6;break;case 254:h=this.pc_read16(),this.reg_s.value=this.read16(h),this.inst_tst16(this.reg_s.value),i.value+=7;break;case 223:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.write16(h,this.reg_s.value),this.inst_tst16(this.reg_s.value),i.value+=6;break;case 239:h=this.ea_indexed(i),this.write16(h,this.reg_s.value),this.inst_tst16(this.reg_s.value),i.value+=6;break;case 255:h=this.pc_read16(),this.write16(h,this.reg_s.value),this.inst_tst16(this.reg_s.value),i.value+=7;break;case 63:this.reg_cc=this.reg_cc&~this.FLAG_E|1*this.FLAG_E,this.inst_psh(255,this.reg_s,this.reg_u.value,i),this.reg_pc=this.read16(65524),i.value+=8;break;default:utils.showError("unknown page-1 op code: "+e)}break;case 17:switch(e=this.vecx.read8(this.reg_pc++)){case 131:this.inst_sub16(this.reg_u.value,this.pc_read16()),i.value+=5;break;case 147:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub16(this.reg_u.value,this.read16(h)),i.value+=7;break;case 163:h=this.ea_indexed(i),this.inst_sub16(this.reg_u.value,this.read16(h)),i.value+=7;break;case 179:h=this.pc_read16(),this.inst_sub16(this.reg_u.value,this.read16(h)),i.value+=8;break;case 140:this.inst_sub16(this.reg_s.value,this.pc_read16()),i.value+=5;break;case 156:h=this.reg_dp<<8|this.vecx.read8(this.reg_pc++),this.inst_sub16(this.reg_s.value,this.read16(h)),i.value+=7;break;case 172:h=this.ea_indexed(i),this.inst_sub16(this.reg_s.value,this.read16(h)),i.value+=7;break;case 188:h=this.pc_read16(),this.inst_sub16(this.reg_s.value,this.read16(h)),i.value+=8;break;case 63:this.reg_cc=this.reg_cc&~this.FLAG_E|1*this.FLAG_E,this.inst_psh(255,this.reg_s,this.reg_u.value,i),this.reg_pc=this.read16(65522),i.value+=8;break;default:utils.showError("unknown page-2 op code: "+e)}break;default:utils.showError("unknown page-0 op code: "+e)}return i.value},this.init=function(s){this.vecx=s}}function e8910(){this.psg={index:0,ready:0,lastEnable:0,PeriodA:0,PeriodB:0,PeriodC:0,PeriodN:0,PeriodE:0,CountA:0,CountB:0,CountC:0,CountN:0,CountE:0,VolA:0,VolB:0,VolC:0,VolE:0,EnvelopeA:0,EnvelopeB:0,EnvelopeC:0,OutputA:0,OutputB:0,OutputC:0,OutputN:0,CountEnv:0,Hold:0,Alternate:0,Attack:0,Holding:0,RNG:0,VolTable:new Array(32),Regs:null},this.ctx=null,this.node=null,this.enabled=!0,this.e8910_build_mixer_table=function(){var s,t;for(t=4095,s=31;s>0;s--)this.psg.VolTable[s]=t+.5>>>0,t/=1.188502227;this.psg.VolTable[0]=0},this.e8910_write=function(s,t){var e;switch(this.psg.Regs[s]=t,s){case 0:case 1:this.psg.Regs[1]&=15,e=this.psg.PeriodA,this.psg.PeriodA=1*(this.psg.Regs[0]+256*this.psg.Regs[1]),0==this.psg.PeriodA&&(this.psg.PeriodA=1),this.psg.CountA+=this.psg.PeriodA-e,this.psg.CountA<=0&&(this.psg.CountA=1);break;case 2:case 3:this.psg.Regs[3]&=15,e=this.psg.PeriodB,this.psg.PeriodB=1*(this.psg.Regs[2]+256*this.psg.Regs[3]),0==this.psg.PeriodB&&(this.psg.PeriodB=1),this.psg.CountB+=this.psg.PeriodB-e,this.psg.CountB<=0&&(this.psg.CountB=1);break;case 4:case 5:this.psg.Regs[5]&=15,e=this.psg.PeriodC,this.psg.PeriodC=1*(this.psg.Regs[4]+256*this.psg.Regs[5]),0==this.psg.PeriodC&&(this.psg.PeriodC=1),this.psg.CountC+=this.psg.PeriodC-e,this.psg.CountC<=0&&(this.psg.CountC=1);break;case 6:this.psg.Regs[6]&=31,e=this.psg.PeriodN,this.psg.PeriodN=1*this.psg.Regs[6],0==this.psg.PeriodN&&(this.psg.PeriodN=1),this.psg.CountN+=this.psg.PeriodN-e,this.psg.CountN<=0&&(this.psg.CountN=1);break;case 7:this.psg.lastEnable=this.psg.Regs[7];break;case 8:this.psg.Regs[8]&=31,this.psg.EnvelopeA=16&this.psg.Regs[8],this.psg.VolA=this.psg.EnvelopeA?this.psg.VolE:this.psg.VolTable[this.psg.Regs[8]?2*this.psg.Regs[8]+1:0];break;case 9:this.psg.Regs[9]&=31,this.psg.EnvelopeB=16&this.psg.Regs[9],this.psg.VolB=this.psg.EnvelopeB?this.psg.VolE:this.psg.VolTable[this.psg.Regs[9]?2*this.psg.Regs[9]+1:0];break;case 10:this.psg.Regs[10]&=31,this.psg.EnvelopeC=16&this.psg.Regs[10],this.psg.VolC=this.psg.EnvelopeC?this.psg.VolE:this.psg.VolTable[this.psg.Regs[10]?2*this.psg.Regs[10]+1:0];break;case 11:case 12:e=this.psg.PeriodE,this.psg.PeriodE=1*(this.psg.Regs[11]+256*this.psg.Regs[12]),0==this.psg.PeriodE&&(this.psg.PeriodE=1),this.psg.CountE+=this.psg.PeriodE-e,this.psg.CountE<=0&&(this.psg.CountE=1);break;case 13:this.psg.Regs[13]&=15,this.psg.Attack=4&this.psg.Regs[13]?31:0,0==(8&this.psg.Regs[13])?(this.psg.Hold=1,this.psg.Alternate=this.psg.Attack):(this.psg.Hold=1&this.psg.Regs[13],this.psg.Alternate=2&this.psg.Regs[13]),this.psg.CountE=this.psg.PeriodE,this.psg.CountEnv=31,this.psg.Holding=0,this.psg.VolE=this.psg.VolTable[this.psg.CountEnv^this.psg.Attack],this.psg.EnvelopeA&&(this.psg.VolA=this.psg.VolE),this.psg.EnvelopeB&&(this.psg.VolB=this.psg.VolE),this.psg.EnvelopeC&&(this.psg.VolC=this.psg.VolE)}},this.toggleEnabled=function(){return this.enabled=!this.enabled,this.enabled},this.e8910_callback=function(s,t){var e=0,i=0;if(this.psg.ready&&this.enabled)for(t<<=1,1&this.psg.Regs[7]?(this.psg.CountA<=t&&(this.psg.CountA+=t),this.psg.OutputA=1):0==this.psg.Regs[8]&&this.psg.CountA<=t&&(this.psg.CountA+=t),2&this.psg.Regs[7]?(this.psg.CountB<=t&&(this.psg.CountB+=t),this.psg.OutputB=1):0==this.psg.Regs[9]&&this.psg.CountB<=t&&(this.psg.CountB+=t),4&this.psg.Regs[7]?(this.psg.CountC<=t&&(this.psg.CountC+=t),this.psg.OutputC=1):0==this.psg.Regs[10]&&this.psg.CountC<=t&&(this.psg.CountC+=t),56==(56&this.psg.Regs[7])&&this.psg.CountN<=t&&(this.psg.CountN+=t),i=this.psg.OutputN|this.psg.Regs[7];t>0;){var h,a,r,c,_=2;a=r=c=0;do{var g;if(g=this.psg.CountN<_?this.psg.CountN:_,8&i){for(this.psg.OutputA&&(a+=this.psg.CountA),this.psg.CountA-=g;this.psg.CountA<=0;){if(this.psg.CountA+=this.psg.PeriodA,this.psg.CountA>0){this.psg.OutputA^=1,this.psg.OutputA&&(a+=this.psg.PeriodA);break}this.psg.CountA+=this.psg.PeriodA,a+=this.psg.PeriodA}this.psg.OutputA&&(a-=this.psg.CountA)}else for(this.psg.CountA-=g;this.psg.CountA<=0;){if(this.psg.CountA+=this.psg.PeriodA,this.psg.CountA>0){this.psg.OutputA^=1;break}this.psg.CountA+=this.psg.PeriodA}if(16&i){for(this.psg.OutputB&&(r+=this.psg.CountB),this.psg.CountB-=g;this.psg.CountB<=0;){if(this.psg.CountB+=this.psg.PeriodB,this.psg.CountB>0){this.psg.OutputB^=1,this.psg.OutputB&&(r+=this.psg.PeriodB);break}this.psg.CountB+=this.psg.PeriodB,r+=this.psg.PeriodB}this.psg.OutputB&&(r-=this.psg.CountB)}else for(this.psg.CountB-=g;this.psg.CountB<=0;){if(this.psg.CountB+=this.psg.PeriodB,this.psg.CountB>0){this.psg.OutputB^=1;break}this.psg.CountB+=this.psg.PeriodB}if(32&i){for(this.psg.OutputC&&(c+=this.psg.CountC),this.psg.CountC-=g;this.psg.CountC<=0;){if(this.psg.CountC+=this.psg.PeriodC,this.psg.CountC>0){this.psg.OutputC^=1,this.psg.OutputC&&(c+=this.psg.PeriodC);break}this.psg.CountC+=this.psg.PeriodC,c+=this.psg.PeriodC}this.psg.OutputC&&(c-=this.psg.CountC)}else for(this.psg.CountC-=g;this.psg.CountC<=0;){if(this.psg.CountC+=this.psg.PeriodC,this.psg.CountC>0){this.psg.OutputC^=1;break}this.psg.CountC+=this.psg.PeriodC}this.psg.CountN-=g,this.psg.CountN<=0&&(this.psg.RNG+1&2&&(this.psg.OutputN=255&~this.psg.OutputN,i=this.psg.OutputN|this.psg.Regs[7]),1&this.psg.RNG&&(this.psg.RNG^=147456),this.psg.RNG>>=1,this.psg.CountN+=this.psg.PeriodN),_-=g}while(_>0);if(0==this.psg.Holding&&(this.psg.CountE-=2,this.psg.CountE<=0)){do{this.psg.CountEnv--,this.psg.CountE+=this.psg.PeriodE}while(this.psg.CountE<=0);this.psg.CountEnv<0&&(this.psg.Hold?(this.psg.Alternate&&(this.psg.Attack^=31),this.psg.Holding=1,this.psg.CountEnv=0):(this.psg.Alternate&&32&this.psg.CountEnv&&(this.psg.Attack^=31),this.psg.CountEnv&=31)),this.psg.VolE=this.psg.VolTable[this.psg.CountEnv^this.psg.Attack],this.psg.EnvelopeA&&(this.psg.VolA=this.psg.VolE),this.psg.EnvelopeB&&(this.psg.VolB=this.psg.VolE),this.psg.EnvelopeC&&(this.psg.VolC=this.psg.VolE)}if(h=(a*this.psg.VolA+r*this.psg.VolB+c*this.psg.VolC)/6,1&--t){var n=h/4095;s[e++]=n}}else for(var A=0;A<t;A++)s[A]=0},this.init=function(s){this.psg.Regs=s,this.psg.RNG=1,this.psg.OutputA=0,this.psg.OutputB=0,this.psg.OutputC=0,this.psg.OutputN=255,this.psg.ready=0},this.start=function(){var s=this;if(null==this.ctx&&(window.AudioContext||window.webkitAudioContext)){s.e8910_build_mixer_table();var t=window.AudioContext?new window.AudioContext({sampleRate:22050}):new window.webkitAudioContext;this.ctx=t,this.node=this.ctx.createScriptProcessor(512,0,1),this.node.onaudioprocess=function(t){s.e8910_callback(t.outputBuffer.getChannelData(0),512)},this.node.connect(this.ctx.destination);var e=function(){"running"!==t.state&&t.resume()};document.documentElement.addEventListener("keydown",e),document.documentElement.addEventListener("click",e)}this.ctx&&(this.psg.ready=1)},this.stop=function(){this.psg.ready=0}}function osint(){this.vecx=null,this.EMU_TIMER=20,this.screen_x=0,this.screen_y=0,this.scl_factor=0,this.color_set=new Array(Globals.VECTREX_COLORS),this.bytes_per_pixel=4,this.osint_updatescale=function(){var s=Globals.ALG_MAX_X/this.screen_x>>0,t=Globals.ALG_MAX_Y/this.screen_y>>0;this.scl_factor=s>t?s:t},this.osint_defaults=function(){return this.osint_updatescale(),0},this.osint_gencolors=function(){for(var s=0;s<Globals.VECTREX_COLORS;s++){var t=256*s/Globals.VECTREX_COLORS>>0,e=256*s/Globals.VECTREX_COLORS>>0,i=256*s/Globals.VECTREX_COLORS>>0;this.color_set[s]=new Array(3),this.color_set[s][0]=t,this.color_set[s][1]=e,this.color_set[s][2]=i}},this.osint_pixelindex=function(s,t){return t*this.lPitch+s*this.bytes_per_pixel},this.osint_clearscreen=function(){for(var s=0;s<this.screen_y*this.lPitch;s++)(s+1)%4&&(this.imageData.data[s]=0);this.ctx.putImageData(this.imageData,0,0)},this.osint_linep01=function(s,t,e,i,h){var a=this.data,r=this.color_set,c=this.lPitch,_=this.bytes_per_pixel,g=e-s,n=i-t,A=s/this.scl_factor>>0,v=e/this.scl_factor>>0,l=t/this.scl_factor>>0,u=n*(this.scl_factor-s%this.scl_factor)-g*(this.scl_factor-t%this.scl_factor);g*=this.scl_factor,n*=this.scl_factor;for(var o=this.osint_pixelindex(A,l);A<=v;A++)a[o]=r[h][0],a[o+1]=r[h][1],a[o+2]=r[h][2],u>=0&&(o+=c,u-=g),u+=n,o+=_},this.osint_linep1n=function(s,t,e,i,h){var a=this.data,r=this.color_set,c=this.lPitch,_=this.bytes_per_pixel,g=e-s,n=i-t,A=t/this.scl_factor>>0,v=i/this.scl_factor>>0,l=s/this.scl_factor>>0,u=g*(this.scl_factor-t%this.scl_factor)-n*(this.scl_factor-s%this.scl_factor);g*=this.scl_factor,n*=this.scl_factor;for(var o=this.osint_pixelindex(l,A);A<=v;A++)a[o]=r[h][0],a[o+1]=r[h][1],a[o+2]=r[h][2],u>=0&&(o+=_,u-=n),u+=g,o+=c},this.osint_linen01=function(s,t,e,i,h){var a=this.data,r=this.color_set,c=this.lPitch,_=this.bytes_per_pixel,g=e-s,n=t-i,A=s/this.scl_factor>>0,v=e/this.scl_factor>>0,l=t/this.scl_factor>>0,u=n*(this.scl_factor-s%this.scl_factor)-g*(t%this.scl_factor);g*=this.scl_factor,n*=this.scl_factor;for(var o=this.osint_pixelindex(A,l);A<=v;A++)a[o]=r[h][0],a[o+1]=r[h][1],a[o+2]=r[h][2],u>=0&&(o-=c,u-=g),u+=n,o+=_},this.osint_linen1n=function(s,t,e,i,h){var a=this.data,r=this.color_set,c=this.lPitch,_=this.bytes_per_pixel,g=s-e,n=i-t,A=t/this.scl_factor>>0,v=i/this.scl_factor>>0,l=s/this.scl_factor>>0,u=g*(this.scl_factor-t%this.scl_factor)-n*(s%this.scl_factor);g*=this.scl_factor,n*=this.scl_factor;for(var o=this.osint_pixelindex(l,A);A<=v;A++)a[o]=r[h][0],a[o+1]=r[h][1],a[o+2]=r[h][2],u>=0&&(o-=_,u-=n),u+=g,o+=c},this.osint_line=function(s,t,e,i,h){e>s?i>t?e-s>i-t?this.osint_linep01(s,t,e,i,h):this.osint_linep1n(s,t,e,i,h):e-s>t-i?this.osint_linen01(s,t,e,i,h):this.osint_linen1n(e,i,s,t,h):i>t?s-e>i-t?this.osint_linen01(e,i,s,t,h):this.osint_linen1n(s,t,e,i,h):s-e>t-i?this.osint_linep01(e,i,s,t,h):this.osint_linep1n(e,i,s,t,h)},this.osint_render=function(){var s=this.vecx.vector_erse_cnt,t=this.vecx.vectors_erse,e=this.vecx.vector_draw_cnt,i=this.vecx.vectors_draw,h=0,a=null,r=null,c=Globals.VECTREX_COLORS;for(h=0;h<s;h++)a=t[h],a.color!=c&&this.osint_line(a.x0,a.y0,a.x1,a.y1,0);for(h=0;h<e;h++)r=i[h],this.osint_line(r.x0,r.y0,r.x1,r.y1,r.color);this.ctx.putImageData(this.imageData,0,0)},this.init=function(s){this.vecx=s,this.screen_x=Globals.SCREEN_X_DEFAULT,this.screen_y=Globals.SCREEN_Y_DEFAULT,this.lPitch=this.bytes_per_pixel*this.screen_x,this.osint_defaults(),this.canvas=vecscr,this.ctx=this.canvas.getContext("2d"),this.imageData=this.ctx.getImageData(0,0,this.screen_x,this.screen_y),this.data=this.imageData.data;for(var t=3;t<this.imageData.data.length-3;t+=4)this.imageData.data[t]=255;this.osint_gencolors(),this.osint_clearscreen()}}function vector_t(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.color=0,this.reset=function(){this.x0=this.y0=this.x1=this.y1=this.color=0}}function VecX(){this.osint=new osint,this.e6809=new e6809,this.e8910=new e8910,this.rom=new Array(8192),utils.initArray(this.rom,0),this.cart=new Array(32768),utils.initArray(this.cart,0),this.ram=new Array(1024),utils.initArray(this.ram,0),this.snd_regs=new Array(16),this.e8910.init(this.snd_regs),this.snd_select=0,this.via_ora=0,this.via_orb=0,this.via_ddra=0,this.via_ddrb=0,this.via_t1on=0,this.via_t1int=0,this.via_t1c=0,this.via_t1ll=0,this.via_t1lh=0,this.via_t1pb7=0,this.via_t2on=0,this.via_t2int=0,this.via_t2c=0,this.via_t2ll=0,this.via_sr=0,this.via_srb=0,this.via_src=0,this.via_srclk=0,this.via_acr=0,this.via_pcr=0,this.via_ifr=0,this.via_ier=0,this.via_ca2=0,this.via_cb2h=0,this.via_cb2s=0,this.alg_rsh=0,this.alg_xsh=0,this.alg_ysh=0,this.alg_zsh=0,this.alg_jch0=0,this.alg_jch1=0,this.alg_jch2=0,this.alg_jch3=0,this.alg_jsh=0,this.alg_compare=0,this.alg_dx=0,this.alg_dy=0,this.alg_curr_x=0,this.alg_curr_y=0,this.alg_max_x=Globals.ALG_MAX_X>>1,this.alg_max_y=Globals.ALG_MAX_Y>>1,this.alg_vectoring=0,this.alg_vector_x0=0,this.alg_vector_y0=0,this.alg_vector_x1=0,this.alg_vector_y1=0,this.alg_vector_dx=0,this.alg_vector_dy=0,this.alg_vector_color=0,this.vector_draw_cnt=0,this.vector_erse_cnt=0,this.vectors_draw=new Array(Globals.VECTOR_CNT),this.vectors_erse=new Array(Globals.VECTOR_CNT),this.vector_hash=new Array(Globals.VECTOR_HASH),utils.initArray(this.vector_hash,0),this.fcycles=0,this.snd_update=function(){switch(24&this.via_orb){case 0:case 8:break;case 16:14!=this.snd_select&&(this.snd_regs[this.snd_select]=this.via_ora,this.e8910.e8910_write(this.snd_select,this.via_ora));break;case 24:0==(240&this.via_ora)&&(this.snd_select=15&this.via_ora)}},this.alg_update=function(){switch(6&this.via_orb){case 0:this.alg_jsh=this.alg_jch0,0==(1&this.via_orb)&&(this.alg_ysh=this.alg_xsh);break;case 2:this.alg_jsh=this.alg_jch1,0==(1&this.via_orb)&&(this.alg_rsh=this.alg_xsh);break;case 4:this.alg_jsh=this.alg_jch2,0==(1&this.via_orb)&&(this.alg_xsh>128?this.alg_zsh=this.alg_xsh-128:this.alg_zsh=0);break;case 6:this.alg_jsh=this.alg_jch3}this.alg_jsh>this.alg_xsh?this.alg_compare=32:this.alg_compare=0,this.alg_dx=this.alg_xsh-this.alg_rsh,this.alg_dy=this.alg_rsh-this.alg_ysh},this.read8=function(s){if(57344==(57344&(s&=65535)))return 255&this.rom[8191&s];if(49152==(57344&s)){if(2048&s)return 255&this.ram[1023&s];var t=0;switch(15&s){case 0:return 255&(t=128&this.via_acr?95&this.via_orb|this.via_t1pb7|this.alg_compare:223&this.via_orb|this.alg_compare);case 1:8==(14&this.via_pcr)&&(this.via_ca2=0);case 15:return 255&(t=8==(24&this.via_orb)?this.snd_regs[this.snd_select]:this.via_ora);case 2:return 255&this.via_ddrb;case 3:return 255&this.via_ddra;case 4:return t=this.via_t1c,this.via_ifr&=191,this.via_t1on=0,this.via_t1int=0,this.via_t1pb7=128,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,255&t;case 5:return this.via_t1c>>8&255;case 6:return 255&this.via_t1ll;case 7:return 255&this.via_t1lh;case 8:return t=this.via_t2c,this.via_ifr&=223,this.via_t2on=0,this.via_t2int=0,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,255&t;case 9:return this.via_t2c>>8;case 10:return t=this.via_sr,this.via_ifr&=251,this.via_srb=0,this.via_srclk=1,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,255&t;case 11:return 255&this.via_acr;case 12:return 255&this.via_pcr;case 13:return 255&this.via_ifr;case 14:return 255&(128|this.via_ier)}}return s<32768?255&this.cart[s]:255},this.write8=function(s,t){if(s&=65535,t&=255,57344==(57344&s));else if(49152==(57344&s)&&(2048&s&&(this.ram[1023&s]=t),4096&s))switch(15&s){case 0:this.via_orb=t,this.snd_update(),this.alg_update(),128==(224&this.via_pcr)&&(this.via_cb2h=0);break;case 1:8==(14&this.via_pcr)&&(this.via_ca2=0);case 15:this.via_ora=t,this.snd_update(),this.alg_xsh=128^t,this.alg_update();break;case 2:this.via_ddrb=t;break;case 3:this.via_ddra=t;break;case 4:this.via_t1ll=t;break;case 5:this.via_t1lh=t,this.via_t1c=this.via_t1lh<<8|this.via_t1ll,this.via_ifr&=191,this.via_t1on=1,this.via_t1int=1,this.via_t1pb7=0,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127;break;case 6:this.via_t1ll=t;break;case 7:this.via_t1lh=t;break;case 8:this.via_t2ll=t;break;case 9:this.via_t2c=t<<8|this.via_t2ll,this.via_ifr&=223,this.via_t2on=1,this.via_t2int=1,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127;break;case 10:this.via_sr=t,this.via_ifr&=251,this.via_srb=0,this.via_srclk=1,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127;break;case 11:this.via_acr=t;break;case 12:this.via_pcr=t,12==(14&this.via_pcr)?this.via_ca2=0:this.via_ca2=1,192==(224&this.via_pcr)?this.via_cb2h=0:this.via_cb2h=1;break;case 13:this.via_ifr&=~(127&t),127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127;break;case 14:128&t?this.via_ier|=127&t:this.via_ier&=~(127&t),127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127}},this.vecx_reset=function(){for(var s=0;s<this.ram.length;s++)this.ram[s]=255&s;for(var s=0;s<16;s++)this.snd_regs[s]=0,this.e8910.e8910_write(s,0);this.snd_regs[14]=255,this.e8910.e8910_write(14,255),this.snd_select=0,this.via_ora=0,this.via_orb=0,this.via_ddra=0,this.via_ddrb=0,this.via_t1on=0,this.via_t1int=0,this.via_t1c=0,this.via_t1ll=0,this.via_t1lh=0,this.via_t1pb7=128,this.via_t2on=0,this.via_t2int=0,this.via_t2c=0,this.via_t2ll=0,this.via_sr=0,this.via_srb=8,this.via_src=0,this.via_srclk=0,this.via_acr=0,this.via_pcr=0,this.via_ifr=0,this.via_ier=0,this.via_ca2=1,this.via_cb2h=1,this.via_cb2s=0,this.alg_rsh=128,this.alg_xsh=128,this.alg_ysh=128,this.alg_zsh=0,this.alg_jch0=128,this.alg_jch1=128,this.alg_jch2=128,this.alg_jch3=128,this.alg_jsh=128,this.alg_compare=0,this.alg_dx=0,this.alg_dy=0,this.alg_curr_x=Globals.ALG_MAX_X>>1,this.alg_curr_y=Globals.ALG_MAX_Y>>1,this.alg_vectoring=0,this.vector_draw_cnt=0,this.vector_erse_cnt=0;for(var t=0;t<this.vectors_draw.length;t++)this.vectors_draw[t]?this.vectors_draw[t].reset():this.vectors_draw[t]=new vector_t;for(var t=0;t<this.vectors_erse.length;t++)this.vectors_erse[t]?this.vectors_erse[t].reset():this.vectors_erse[t]=new vector_t;for(var e=Globals.romdata.length,t=0;t<e;t++)this.rom[t]=Globals.romdata.charCodeAt(t);e=this.cart.length;for(var i=0;i<e;i++)this.cart[i]=1;if(null!=Globals.cartdata){e=Globals.cartdata.length;for(var t=0;t<e;t++)this.cart[t]=Globals.cartdata.charCodeAt(t)}this.fcycles=Globals.FCYCLES_INIT,this.e6809.e6809_reset()},this.t2shift=0,this.alg_addline=function(s,t,e,i,h){var a=0,r=0,c=null;a=s,a=31*a+t,a=31*a+e,a=31*a+i,a%=Globals.VECTOR_HASH,c=null,r=this.vector_hash[a],r>=0&&r<this.vector_draw_cnt&&(c=this.vectors_draw[r]),null!=c&&s==c.x0&&t==c.y0&&e==c.x1&&i==c.y1?c.color=h:(c=null,r>=0&&r<this.vector_erse_cnt&&(c=this.vectors_erse[r]),null!=c&&s==c.x0&&t==c.y0&&e==c.x1&&i==c.y1&&(this.vectors_erse[r].color=Globals.VECTREX_COLORS),c=this.vectors_draw[this.vector_draw_cnt],c.x0=s,c.y0=t,c.x1=e,c.y1=i,c.color=h,this.vector_hash[a]=this.vector_draw_cnt,this.vector_draw_cnt++)},this.vecx_emu=function(s,t){for(var e=0,i=0,h=null,a=this.e6809,r=this.osint,c=Globals.FCYCLES_INIT,_=0,g=0,n=0,A=0;s>0;){for(e=a.e6809_sstep(128&this.via_ifr,0),i=0;i<e;i++){if(this.t2shift=0,this.via_t1on&&(this.via_t1c=this.via_t1c>0?this.via_t1c-1:65535,65535==(65535&this.via_t1c)&&(64&this.via_acr?(this.via_ifr|=64,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,this.via_t1pb7=128-this.via_t1pb7,this.via_t1c=this.via_t1lh<<8|this.via_t1ll):this.via_t1int&&(this.via_ifr|=64,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,this.via_t1pb7=128,this.via_t1int=0))),this.via_t2on&&0==(32&this.via_acr)&&(this.via_t2c=this.via_t2c>0?this.via_t2c-1:65535,65535==(65535&this.via_t2c)&&this.via_t2int&&(this.via_ifr|=32,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127,this.via_t2int=0)),this.via_src=this.via_src>0?this.via_src-1:255,255==(255&this.via_src)?(this.via_src=this.via_t2ll,this.via_srclk?(this.t2shift=1,this.via_srclk=0):(this.t2shift=0,this.via_srclk=1)):this.t2shift=0,this.via_srb<8){switch(28&this.via_acr){case 0:break;case 4:this.t2shift&&(this.via_sr<<=1,this.via_srb++);break;case 8:this.via_sr<<=1,this.via_srb++;break;case 12:break;case 16:this.t2shift&&(this.via_cb2s=this.via_sr>>7&1,this.via_sr<<=1,this.via_sr|=this.via_cb2s);break;case 20:this.t2shift&&(this.via_cb2s=this.via_sr>>7&1,this.via_sr<<=1,this.via_sr|=this.via_cb2s,this.via_srb++);break;case 24:this.via_cb2s=this.via_sr>>7&1,this.via_sr<<=1,this.via_sr|=this.via_cb2s,this.via_srb++}8==this.via_srb&&(this.via_ifr|=4,127&this.via_ifr&this.via_ier?this.via_ifr|=128:this.via_ifr&=127)}_=0,g=0,n=0,A=0,A=16==(16&this.via_acr)?this.via_cb2s:this.via_cb2h,0==this.via_ca2?(_=this.alg_max_x-this.alg_curr_x,g=this.alg_max_y-this.alg_curr_y):(n=128&this.via_acr?this.via_t1pb7:128&this.via_orb,0==n?(_=this.alg_dx,g=this.alg_dy):(_=0,g=0)),0==this.alg_vectoring?1==A&&this.alg_curr_x>=0&&this.alg_curr_x<Globals.ALG_MAX_X&&this.alg_curr_y>=0&&this.alg_curr_y<Globals.ALG_MAX_Y&&(this.alg_vectoring=1,this.alg_vector_x0=this.alg_curr_x,this.alg_vector_y0=this.alg_curr_y,this.alg_vector_x1=this.alg_curr_x,this.alg_vector_y1=this.alg_curr_y,this.alg_vector_dx=_,this.alg_vector_dy=g,this.alg_vector_color=255&this.alg_zsh):0==A?(this.alg_vectoring=0,this.alg_addline(this.alg_vector_x0,this.alg_vector_y0,this.alg_vector_x1,this.alg_vector_y1,this.alg_vector_color)):_==this.alg_vector_dx&&g==this.alg_vector_dy&&(255&this.alg_zsh)==this.alg_vector_color||(this.alg_addline(this.alg_vector_x0,this.alg_vector_y0,this.alg_vector_x1,this.alg_vector_y1,this.alg_vector_color),this.alg_curr_x>=0&&this.alg_curr_x<Globals.ALG_MAX_X&&this.alg_curr_y>=0&&this.alg_curr_y<Globals.ALG_MAX_Y?(this.alg_vector_x0=this.alg_curr_x,this.alg_vector_y0=this.alg_curr_y,this.alg_vector_x1=this.alg_curr_x,this.alg_vector_y1=this.alg_curr_y,this.alg_vector_dx=_,this.alg_vector_dy=g,this.alg_vector_color=255&this.alg_zsh):this.alg_vectoring=0),this.alg_curr_x+=_,this.alg_curr_y+=g,1==this.alg_vectoring&&this.alg_curr_x>=0&&this.alg_curr_x<Globals.ALG_MAX_X&&this.alg_curr_y>=0&&this.alg_curr_y<Globals.ALG_MAX_Y&&(this.alg_vector_x1=this.alg_curr_x,this.alg_vector_y1=this.alg_curr_y),10==(14&this.via_pcr)&&(this.via_ca2=1),160==(224&this.via_pcr)&&(this.via_cb2h=1)}s-=e,this.fcycles-=e,this.fcycles<0&&(this.fcycles+=c,r.osint_render(),this.vector_erse_cnt=this.vector_draw_cnt,this.vector_draw_cnt=0,h=this.vectors_erse,this.vectors_erse=this.vectors_draw,this.vectors_draw=h)}},this.count=0,this.startTime=null,this.nextFrameTime=null,this.extraTime=0,this.fpsTimer=null,this.running=!1,this.vecx_emuloop=function(){if(!this.running){this.running=!0;var s=this.osint.EMU_TIMER,t=(Globals.VECTREX_MHZ/1e3>>0)*s,e=this;this.startTime=this.nextFrameTime=(new Date).getTime()+s,this.count=0,this.extraTime=0,this.fpsTimer=setInterval(function(){stat&&(stat.innerText="FPS: "+(e.count/((new Date).getTime()-e.startTime)*1e3).toFixed(2)+" (50)"+(e.extraTime>0?", extra: "+(e.extraTime/(e.count/50)).toFixed(2)+" (ms)":"")),e.count>500&&(e.startTime=(new Date).getTime(),e.count=0,e.extraTime=0)},2e3);var i=function(){if(e.running){e.snd_regs[14]=e.shadow_snd_regs14,e.vecx_emu.call(e,t,0),e.count++;var h=(new Date).getTime(),a=e.nextFrameTime-h;e.extraTime+=a,a<-s&&(a=-s),e.nextFrameTime=h+s+a,setTimeout(function(){i()},a)}};setTimeout(i,15)}},this.stop=function(){this.running&&(null!=this.fpsTimer&&(clearInterval(this.fpsTimer),this.fpsTimer=null),this.running=!1,this.e8910.stop())},this.start=function(){this.running||(this.e8910.start(),this.vecx_emuloop())},this.main=function(){this.osint.init(this),this.e6809.init(this),stat&&(stat.innerText="Loaded."),this.vecx_reset(),this.start()},this.reset=function(){this.stop(),this.vecx_reset(),this.osint.osint_clearscreen();var s=this;setTimeout(function(){s.start()},200)},this.toggleSoundEnabled=function(){return this.e8910.toggleEnabled()},this.shadow_snd_regs14=255,this.onkeydown=function(s){var t=!0
;switch(s.keyCode){case 37:case 76:this.alg_jch0=0;break;case 38:case 80:this.alg_jch1=255;break;case 39:case 222:this.alg_jch0=255;break;case 40:case 59:case 186:this.alg_jch1=0;break;case 65:this.shadow_snd_regs14&=-2;break;case 83:this.shadow_snd_regs14&=-3;break;case 68:this.shadow_snd_regs14&=-5;break;case 70:this.shadow_snd_regs14&=-9;break;default:t=!1}t&&s.preventDefault&&s.preventDefault()},this.onkeyup=function(s){var t=!0;switch(s.keyCode){case 37:case 76:this.alg_jch0=128;break;case 38:case 80:this.alg_jch1=128;break;case 39:case 222:this.alg_jch0=128;break;case 40:case 59:case 186:this.alg_jch1=128;break;case 65:this.shadow_snd_regs14|=1;break;case 83:this.shadow_snd_regs14|=2;break;case 68:this.shadow_snd_regs14|=4;break;case 70:this.shadow_snd_regs14|=8;break;default:t=!1}t&&s.preventDefault&&s.preventDefault()}}function dropHandler(s){var t=null;if(s.dataTransfer.items){for(var e=0;e<s.dataTransfer.items.length;e++)if("file"===s.dataTransfer.items[e].kind){t=s.dataTransfer.items[e].getAsFile();break}}else for(var e=0;e<s.dataTransfer.files.length;e++){t=s.dataTransfer.files[e];break}if(t)if(t.size<=102400){var i=new FileReader;i.readAsBinaryString(t),stat.innerText="Processing file...",i.onloadend=function(){stat.innerText="Processing completed.",Globals.cartdata=i.result,roms.selectedIndex=0,switchRom(null)}}else stat.innerText="File too large."}function switchRom(s){if(vecx.stop(),vecx.osint.osint_clearscreen(),s){var t=s.split("_")[0];overlay.src="./overlays/"+t+".png";var e=new XMLHttpRequest;e.open("GET","./roms/"+s+".bin",!0),e.overrideMimeType("text/plain; charset=x-user-defined"),e.onload=function(s){Globals.cartdata=s.target.response,stat.innerText="Loaded.",vecx.reset()},e.send()}else overlay.src="./overlays/none.png",vecx.reset()}function doinit(){function s(s){s.preventDefault()}stat.innerText="Starting up...";var t=[];t.push('<option value="">Select a cartridge...</option>');for(var e=0;e<romList.length;e++){t.push('<optgroup label="'+romList[e][0]+'">');for(var i=0;i<romList[e][1].length;i++)t.push('<option value="'+romList[e][1][i][1]+'">'+romList[e][1][i][0]+"</option>");t.push("</optgroup>")}roms.innerHTML=t.join(""),roms.onchange=function(s){s=s.srcElement,""!=s.value&&(stat.innerText="Loading "+s.text+" ...",switchRom(s.value))},document.onkeydown=function(s){vecx.onkeydown(s)},document.onkeyup=function(s){vecx.onkeyup(s)},overlay.onload=function(s){resizer()},overlay.onerror=function(s){overlay.src="./overlays/none.png"};var h=window;h.addEventListener("drop",s,!1),h.addEventListener("dragdrop",s,!1),h.addEventListener("dragenter",s,!1),h.addEventListener("dragleave",s,!1),h.addEventListener("dragover",s,!1),h.addEventListener("drop",s,!1),h.addEventListener("drop",s,!1),h.addEventListener("drop",dropHandler,!1),h.addEventListener("dragdrop",dropHandler,!1),addEventListener("contextmenu",toggleMenu,!1),addEventListener("dblclick",toggleFullscreen,!1),addEventListener("resize",resizer,!1),resizer(),vecx.main(),raf=requestAnimationFrame(gp_handler)}function toggleMenu(s){s&&s.preventDefault(),"block"==menu.style.display?menu.style.display="none":menu.style.display="block"}function toggleFullscreen(){window.screenTop||window.screenY?document.documentElement.requestFullscreen():document.exitFullscreen()}function toggleAA(){vecscr.classList.toggle("noAA"),overlay.classList.toggle("noAA"),overlay.classList.contains("noAA")?stat.innerText="AntiAlias turned off.":stat.innerText="AntiAlias turned on."}function toggleGP(){raf?(cancelAnimationFrame(raf),raf=null,stat.innerText="Gamepad turned off."):(raf=requestAnimationFrame(gp_handler),stat.innerText="Gamepad turned on.")}function toggleSound(){var s=vecx.toggleSoundEnabled();stat.innerText=s?"Sound turned on.":"Sound turned off."}function toggleOverlay(){overlay.classList.toggle("fadeOut"),overlay.classList.contains("fadeOut")?stat.innerText="Overlay turned off.":stat.innerText="Overlay turned on."}function gp_handler(){raf=requestAnimationFrame(gp_handler);for(var s=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:[],t=0;t<s.length;t++)if(gp=s[t],gp&&(0==gp&&(vecx.shadow_snd_regs14=255),gp.buttons[9].pressed&&toggleMenu(),gp.buttons[8].pressed&&vecx.reset(),gp.buttons[4].pressed&&toggleSound(),gp.buttons[5].pressed&&toggleOverlay(),0==t&&(gp.buttons[3].pressed?vecx.shadow_snd_regs14&=-2:vecx.shadow_snd_regs14|=1,gp.buttons[2].pressed?vecx.shadow_snd_regs14&=-3:vecx.shadow_snd_regs14|=2,gp.buttons[1].pressed?vecx.shadow_snd_regs14&=-5:vecx.shadow_snd_regs14|=4,gp.buttons[0].pressed?vecx.shadow_snd_regs14&=-9:vecx.shadow_snd_regs14|=8,gp.axes.length>1?(vecx.alg_jch0=Math.min(255,Math.floor(128*gp.axes[0])+128),vecx.alg_jch1=Math.min(255,Math.floor(128*gp.axes[1])+128)):(gp.buttons[14].pressed?vecx.alg_jch0=0:gp.buttons[15].pressed?vecx.alg_jch0=255:vecx.alg_jch0=128,gp.buttons[12].pressed?vecx.alg_jch1=255:gp.buttons[13].pressed?vecx.alg_jch1=0:vecx.alg_jch1=128)),1==t)){gp.buttons[3].pressed?vecx.shadow_snd_regs14&=-17:vecx.shadow_snd_regs14|=16,gp.buttons[2].pressed?vecx.shadow_snd_regs14&=-33:vecx.shadow_snd_regs14|=32,gp.buttons[1].pressed?vecx.shadow_snd_regs14&=-65:vecx.shadow_snd_regs14|=64,gp.buttons[0].pressed?vecx.shadow_snd_regs14&=-129:vecx.shadow_snd_regs14|=128,gp.axes.length>1?(vecx.alg_jch2=Math.min(255,Math.floor(128*gp.axes[0])+128),vecx.alg_jch3=Math.min(255,Math.floor(128*gp.axes[1])+128)):(gp.buttons[14].pressed?vecx.alg_jch2=0:gp.buttons[15].pressed?vecx.alg_jch2=255:vecx.alg_jch2=128,gp.buttons[12].pressed?vecx.alg_jch3=255:gp.buttons[13].pressed?vecx.alg_jch3=0:vecx.alg_jch3=128);break}}function resizer(){var s=window.innerWidth,t=window.innerHeight;s/t<351/449?(overlay.style.width=s+"px",overlay.style.height="auto",vecscr.style.width=330/351*s+"px",vecscr.style.height="auto"):(overlay.style.height=t+"px",overlay.style.width="auto",vecscr.style.height=410/449*t+"px",vecscr.style.width="auto");var e=overlay.clientWidth-vecscr.clientWidth,i=overlay.clientHeight-vecscr.clientHeight;vecscr.style.left=e/2+"px",vecscr.style.top=i/2+"px",e=s-overlay.clientWidth,i=t-overlay.clientHeight,wrapper.style.left=e/2+"px",wrapper.style.top=i/2+"px",menu.style.width=.8*overlay.clientWidth+"px",menu.style.height=.8*overlay.clientHeight+"px",menu.style.left=.1*overlay.clientWidth+"px",menu.style.top=.1*overlay.clientHeight+"px"}var utils=new Utils,Globals={romdata:null,cartdata:null,VECTREX_MHZ:15e5,VECTREX_COLORS:128,ALG_MAX_X:33e3,ALG_MAX_Y:41e3,VECTREX_PDECAY:30,VECTOR_HASH:65521,SCREEN_X_DEFAULT:330,SCREEN_Y_DEFAULT:410};Globals.FCYCLES_INIT=Globals.VECTREX_MHZ/Globals.VECTREX_PDECAY>>0,Globals.VECTOR_CNT=Globals.VECTREX_MHZ/Globals.VECTREX_PDECAY>>0;var romList=[["Commercial",[["Armor Attack","armor"],["Bedlam","bedlam"],["Berzerk","berzerk_debugged"],["Blitz","blitz"],["Clean Sweep","sweep"],["Cosmic Chasm","chasm"],["Fortress of Narzod","narzod"],["Heads Up","headsup"],["Hyper Chase","hyper"],["Mine Storm","minestorm"],["Mine Storm 2","minestorm_2"],["Polar Rescue","polar"],["Pole Position","pole"],["Ripoff","ripoff"],["Scramble","scramble"],["Solar Quest","solar"],["Space Wars","space"],["Spike","spike"],["Spinball","spinball"],["Star Castle","castle"],["Star Hawk","starhawk"],["Star Trek","startrek"],["Web Wars","webwars"]]],["Unreleased and Prototypes",[["Dark Tower","dktower"],["Mail Plane","MailPlane"],["Pitcher's Duel","Pitchers"],["Tour de France","tdf"]]],["Homebrew",[["All Good Things","agt"],["Asteroid Cowboy","asteroid_cowboy"],["Birds of Prey","BirdsofPrey(1999)"],["Gravitrex plus","gravplus"],["Moonlander","moon"],["Nebula Commander","nebula"],["Omega Chase","Omega16k"],["Patriots","patriot"],["Patriots III","PatriotsIII"],["Revector","revector"],["Rockaroids Remix","rocks"],["Space Frenzy","sfpd"],["Spike Hoppin'","spikehop"],["Spike's Water Balloons","spikewater"],["Thrust","thrust"],["Tsunami","tsu-dl"],["Vecmania 1","vecmania1"],["Vecmania 2","vecmania2"],["Vectrex Frogger","frogger"],["Vectrexians","Vectrexians-1999-PD"],["Vix","vix-dl"],["War of the Robots","wotr"]]]],vecx=new VecX,raf=null;Globals.romdata=atob("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");